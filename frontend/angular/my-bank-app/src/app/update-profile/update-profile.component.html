<p class="text-center text-lg font-semibold mb-4">Update Profile</p>
<div class="max-w-2xl mx-auto bg-white shadow-md rounded-lg p-6">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">Update Profile</h2>
  <form (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Username -->
    <div class="flex flex-col">
      <label for="username" class="mb-1 font-medium text-gray-700">Username</label>
      <input
        type="text"
        id="username"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.username" readonly
        name="username"
        [disabled]="otpSent"
        required
      />
    </div>

    <!-- Email -->
    <div class="flex flex-col">
      <label for="email" class="mb-1 font-medium text-gray-700">Email</label>
      <input
        type="email"
        id="email"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.email"
        name="email"
        [disabled]="otpSent"
        required
      />
    </div>

    <!-- Phone Number -->
    <div class="flex flex-col">
      <label for="phoneNumber" class="mb-1 font-medium text-gray-700">Phone Number</label>
      <input
        type="text"
        id="phoneNumber"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.phoneNumber"
        name="phoneNumber"
        [disabled]="otpSent"
      />
    </div>

    <!-- First Name -->
    <div class="flex flex-col">
      <label for="firstName" class="mb-1 font-medium text-gray-700">First Name</label>
      <input
        type="text"
        id="firstName"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.firstName"
        name="firstName"
        [disabled]="otpSent"
        required
      />
    </div>

    <!-- Last Name -->
    <div class="flex flex-col">
      <label for="lastName" class="mb-1 font-medium text-gray-700">Last Name</label>
      <input
        type="text"
        id="lastName"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.lastName"
        name="lastName"
        [disabled]="otpSent"
        required
      />
    </div>

    <!-- Date of Birth -->
    <div class="flex flex-col">
      <label for="dateOfBirth" class="mb-1 font-medium text-gray-700">Date of Birth</label>
      <input
        type="date"
        id="dateOfBirth"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.dateOfBirth"
        name="dateOfBirth"
        [disabled]="otpSent"
      />
    </div>

    <!-- Address -->
    <div class="flex flex-col">
      <label for="address" class="mb-1 font-medium text-gray-700">Address</label>
      <textarea
        id="address"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.address"
        name="address"
        rows="3"[disabled]="otpSent"
      ></textarea>
    </div>

    <!-- Status -->
    <div class="flex flex-col">
      <label for="status" class="mb-1 font-medium text-gray-700">Status</label>
      <select
        id="status"
        class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="user.status"
        name="status"
        [disabled]="otpSent"
      >
        <option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
      </select>
    </div>

    <!-- OTP Section -->
    <div class="flex flex-col space-y-4">
      <label for="otp" class="mb-1 font-medium text-gray-700">OTP</label>
      
      <!-- OTP Input Field (visible when OTP is sent) -->
      <!--<div *ngIf="otpSent" class="flex flex-col">
         <div  class="flex flex-col"></div>
        
      </div> -->

      <!-- Send OTP Button (visible when OTP is not sent) -->
      <div >
        <input
          type="text"
          id="otp"
          class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          [(ngModel)]="user.otp"
          name="otp"
          required
        />
        <button *ngIf="!otpSent"
          type="button"
          (click)="sendOtp()"
          
          class="w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400"
        >
          Send OTP
        </button>
      <!-- Validate OTP Button (visible when OTP is sent) -->
      
        <button *ngIf="otpSent"
          type="button"
          (click)="validateOtp()"
          class="w-full bg-green-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400"
        >
          Validate OTP
        </button>
      </div>

      
    </div>

    <!-- Submit Button -->
    <div>
      <button
        type="submit"
        class="w-full bg-blue-500 text-white font-semibold py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400"
      >
        Update Profile
      </button>
    </div>
  </form>
</div>
